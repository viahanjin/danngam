# danngam 와이어프레임 - 추가 기능 화면

**문서 정보**
- 작성일: 2026-02-14
- 작성자: 기획팀
- 버전: 1.0
- 목적: EquipmentRegistrationScreen, MapSearchScreen, ChatScreen & ChatDetailScreen 상세 와이어프레임

---

## 1. EquipmentRegistrationScreen (장비 등록)

### 레이아웃

```
┌─────────────────────────────────┐
│ ← [뒤로]  장비 등록              │ 헤더
├─────────────────────────────────┤
│                                 │
│  단계 1: 사진                   │ 진행 상황
│  ━━━━━━━━━━━━━━━━━━━          │
│  ░░░░░░░░░░░ (30%)              │ 진행률
│                                 │
│  ┌───────────────────────────┐  │
│  │   📷 사진 추가            │  │
│  │                           │  │
│  │ (클릭하여 카메라/갤러리)   │  │
│  └───────────────────────────┘  │
│                                 │
│  선택된 사진: 0/5               │
│                                 │
│ ▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁ │
│                                 │
│  단계 2: 기본 정보              │
│  ━━━━━━━━━━━━━━━━━━━          │
│  ░░░░░░░░░░░░░░░░░ (50%)       │
│                                 │
│  장비명 *                       │
│  ┌───────────────────────────┐  │
│  │ 콤바인                    │  │
│  └───────────────────────────┘  │
│                                 │
│  카테고리 *                     │
│  ┌───────────────────────────┐  │
│  │ 콤바인 ▼                  │  │
│  │ (콤바인, 트랙터, 이앙기.. │  │
│  │  건조장)                  │  │
│  └───────────────────────────┘  │
│                                 │
│  장비 타입 *                    │
│  ◉ 이동형    ○ 고정형          │
│  (라디오 버튼)                  │
│                                 │
│ ▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁ │
│                                 │
│  단계 3: 가격 및 위치           │
│  ━━━━━━━━━━━━━━━━━━━          │
│  ░░░░░░░░░░░░░░░░░░░░░░ (70%)  │
│                                 │
│  시간당 가격 *                  │
│  ┌───────────────────────────┐  │
│  │ 80000  ₩/시간             │  │
│  └───────────────────────────┘  │
│                                 │
│  보관 위치 *                    │
│  ┌───────────────────────────┐  │
│  │ 📍 경기도 용인             │  │
│  │ (클릭하여 지도에서 선택)   │  │
│  └───────────────────────────┘  │
│                                 │
│ ▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁ │
│                                 │
│  단계 4: 설명                   │
│  ━━━━━━━━━━━━━━━━━━━          │
│  ░░░░░░░░░░░░░░░░░░░░░░░ (90%) │
│                                 │
│  설명 (선택사항)                │
│  ┌───────────────────────────┐  │
│  │ "최신형 콤바인으로        │  │
│  │ 매우 좋은 상태입니다."    │  │
│  │                           │  │
│  └───────────────────────────┘  │
│  글자 수: 45 / 500              │
│                                 │
│ ▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁ │
│                                 │
│  [이전 단계] [다음 단계]         │ 버튼
│  [등록하기] (마지막 단계)        │ (조건부)
│                                 │
└─────────────────────────────────┘
```

### 요소 정의

#### 헤더
```
← [뒤로]  장비 등록
```
- 왼쪽 뒤로가기 버튼
- 중앙 제목 (18px, Bold)
- 타이틀 바 배경색: Primary Color (#4CAF50)
- 텍스트 색상: White

#### 진행률 표시기
```
단계 1: 사진
━━━━━━━━━━━━━━━━━━━
░░░░░░░░░░░░░░░░░░░ (30%)
```
- 단계명 + 진행률 % 표시
- 진행된 부분: Primary Color
- 미진행 부분: Light Gray (#E5E7EB)
- 높이: 4px

#### 단계 1: 사진

**사진 업로드 영역**
```
┌───────────────────────────┐
│   📷 사진 추가            │
│                           │
│ (클릭하여 카메라/갤러리)   │
└───────────────────────────┘
```
- 높이: 180px
- 테두리: 2px dashed #BDBDBD
- 배경: #FAFAFA
- 클릭 시: 카메라/갤러리 선택
- 최대 5장 업로드 가능
- 선택된 사진: 그리드로 표시 (2×3)
- 각 이미지: 90×90px, 반경 8px
- X 버튼으로 삭제 가능

**선택된 사진 카운트**
```
선택된 사진: 0/5
```
- 우측 정렬, 회색 텍스트 (14px)
- 파일명 표시 (선택사항)

#### 단계 2: 기본 정보

**장비명**
```
장비명 *
┌───────────────────────────┐
│ 콤바인                    │
└───────────────────────────┘
```
- 레이블: 16px Bold, 필수 표시(*)는 Red
- Input: 높이 56px, 패딩 16px
- 테두리: 1px #E5E7EB, 반경 8px
- 플레이스홀더: "장비명을 입력하세요"
- 최대 50자

**카테고리 Dropdown**
```
카테고리 *
┌───────────────────────────┐
│ 콤바인 ▼                  │
│ (콤바인, 트랙터, 이앙기.. │
│  건조장)                  │
└───────────────────────────┘
```
- 높이: 56px
- 옵션:
  - 콤바인 (Combine)
  - 트랙터 (Tractor)
  - 이앙기 (Transplanter)
  - 드론 (Drone)
  - 건조장 (Dryer)
- 드롭다운 열 때: 모달 또는 BottomSheet

**장비 타입 라디오 버튼**
```
장비 타입 *
◉ 이동형    ○ 고정형
```
- 라디오 버튼 2개
- 기본값: 없음
- 선택된 항목: ◉ (Primary Color)
- 미선택 항목: ○ (Gray)

#### 단계 3: 가격 및 위치

**시간당 가격**
```
시간당 가격 *
┌───────────────────────────┐
│ 80000  ₩/시간             │
└───────────────────────────┘
```
- 입력 필드: 숫자 only
- 오른쪽에 "₩/시간" 표시
- 천 단위 콤마 자동 표시
- 최대 999,999 (9자리)

**보관 위치**
```
보관 위치 *
┌───────────────────────────┐
│ 📍 경기도 용인             │
│ (클릭하여 지도에서 선택)   │
└───────────────────────────┘
```
- 높이: 56px
- 클릭 시: 지도 선택 모달 열기
- GPS 기반 자동 선택 옵션
- 선택된 주소 표시
- 오른쪽 화살표 (>)

#### 단계 4: 설명

**설명 TextArea**
```
설명 (선택사항)
┌───────────────────────────┐
│ "최신형 콤바인으로        │
│ 매우 좋은 상태입니다."    │
│                           │
└───────────────────────────┘
글자 수: 45 / 500
```
- 높이: 120px
- 너비: 100%
- 테두리: 1px #E5E7EB, 반경 8px
- 패딩: 12px
- 최대 500자
- 글자 수 표시 (우측 정렬)
- 스크롤 가능

#### 하단 버튼 영역

**단계별 버튼**
```
[이전 단계] [다음 단계]      # 단계 1~3
[등록하기]                  # 단계 4
```
- 버튼 높이: 56px
- 너비: 각 50% (두 버튼) 또는 100% (최종)
- 각 버튼 사이: 12px 간격
- [이전 단계]: 회색 배경 (단계 1에서는 숨김)
- [다음 단계]/[등록하기]: Primary Color
- 모든 필수 필드 입력 전: disabled

### 사용자 인터랙션

#### 단계별 네비게이션
- **[이전 단계]**: 이전 단계로 이동 (데이터 저장)
- **[다음 단계]**: 다음 단계로 이동 (필수 필드 검증)
  - 단계 1: 사진 최소 1장 필수
  - 단계 2: 장비명, 카테고리, 타입 필수
  - 단계 3: 가격, 위치 필수
  - 단계 4: 완료 (선택 필드만 남음)

#### 사진 업로드
- **사진 추가 영역 클릭**: 카메라/갤러리 선택 모달
  - 📷 카메라: 실시간 촬영
  - 📁 갤러리: 기존 사진 선택
- **X 버튼**: 해당 사진 삭제

#### 카테고리 선택
- **드롭다운 클릭**: BottomSheet 또는 모달에서 선택
- **선택 완료**: 선택된 항목 표시

#### 위치 선택
- **위치 필드 클릭**: Naver Map 또는 Google Map 모달
- **지도에서 마커 선택**: 주소 자동 입력
- **[현재 위치 사용]**: GPS 기반 자동 설정

#### 데이터 검증
- **TextArea 입력**: 실시간 글자 수 업데이트
- **가격 입력**: 숫자 only, 천 단위 콤마 자동 추가
- **뒤로가기**: 작성 중인 데이터 임시 저장 또는 확인 모달

#### 등록 완료
- **[등록하기]**: 모든 데이터 서버에 전송
  - 로딩 스피너 표시
  - 성공 시: 성공 메시지 + MainScreen으로 이동
  - 실패 시: 에러 메시지 + 재시도 옵션

### 유효성 검사 규칙

| 필드 | 규칙 | 메시지 |
|------|------|--------|
| 장비명 | 필수, 1~50자 | "장비명을 입력하세요" |
| 카테고리 | 필수 | "카테고리를 선택하세요" |
| 장비 타입 | 필수 | "장비 타입을 선택하세요" |
| 가격 | 필수, 1~999999 | "올바른 가격을 입력하세요" |
| 위치 | 필수 | "보관 위치를 선택하세요" |
| 설명 | 선택, 0~500자 | "500자 이내로 입력하세요" |
| 사진 | 필수, 1~5장 | "최소 1장의 사진이 필요합니다" |

---

## 2. MapSearchScreen (지도 검색)

### 레이아웃

```
┌─────────────────────────────────┐
│ ☰ [검색]                    🔍   │ 헤더
├─────────────────────────────────┤
│  [이동형 🚜] | [고정형 🏭]      │ 탭바
├─────────────────────────────────┤
│                                 │
│  ┌───────────────────────────┐  │
│  │                           │  │
│  │  📍 Naver Map            │  │ 지도 영역
│  │                           │  │ (높이 60%)
│  │  🚜 🚜 🏭 🏭              │  │ 마커들
│  │  🚜       🏭              │  │
│  │                           │  │
│  │  [내 위치]  [줌+/-]       │  │ 컨트롤
│  │                           │  │
│  │  [목록 보기]              │  │
│  │                           │  │
│  └───────────────────────────┘  │
│                                 │
│ ▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁ │
│                                 │
│  지도 내 장비 목록 (높이 40%)    │
│  (스크롤 가능)                  │
│                                 │
│  ┌─────────────────────────┐   │
│  │ 🚜 콤바인              │   │ 카드 1
│  │    김기계               │   │
│  │    ⭐4.8 │ ₩80,000/시간│   │
│  │ [예약하기]              │   │
│  └─────────────────────────┘   │
│                                 │
│  ┌─────────────────────────┐   │
│  │ 🚜 트랙터               │   │ 카드 2
│  │    이농부               │   │
│  │    ⭐4.9 │ ₩60,000/시간│   │
│  │ [예약하기]              │   │
│  └─────────────────────────┘   │
│                                 │
│  ┌─────────────────────────┐   │
│  │ 🏭 건조기               │   │ 카드 3
│  │    박시설               │   │
│  │    ⭐4.7 │ ₩50,000/시간│   │
│  │ [예약하기]              │   │
│  └─────────────────────────┘   │
│                                 │
│  ... (스크롤)                   │
│                                 │
└─────────────────────────────────┘
```

### 요소 정의

#### 헤더
```
☰ [검색]                    🔍
```
- 왼쪽: 메뉴 아이콘 (☰) - 드로어 메뉴 열기
- 중앙: [검색] 버튼 - 검색 화면으로 이동
- 오른쪽: 🔍 아이콘 - 검색 필터 열기
- 배경색: Primary Color (#4CAF50)
- 높이: 56px

#### 탭 네비게이션
```
[이동형 🚜] | [고정형 🏭]
```
- 탭 너비: 각 50%
- 탭 높이: 48px
- 선택된 탭: 언더라인 + Primary Color
- 미선택 탭: Gray Color
- 탭 전환 시: 지도 마커 및 카드 필터링

#### 지도 영역 (높이 60%)

**Naver Map / Google Maps**
- 기본 줌 레벨: 12 (도시 수준)
- 사용자의 현재 위치 표시
- 마커 클러스터링 (장비 밀집 시)

**마커 표시**
```
🚜 이동형 (트랙터, 콤바인, 이앙기 등)
🏭 고정형 (건조기, 저장소 등)
```
- 마커 크기: 48×48px
- 마커 클릭 시: 팝업 정보 표시
  - 장비명
  - 공급자 이름
  - 평점
  - 가격
  - [예약하기] 버튼

**지도 컨트롤**
```
[내 위치]  [줌+/-]  [목록 보기]
```
- [내 위치]: 사용자 위치로 센터링, GPS 재조회
- [줌+]: 줌 인 (최대 17)
- [줌-]: 줌 아웃 (최소 8)
- [목록 보기]: 전체 목록 보기 (MapListScreen으로 전환)

#### 하단 카드 영역 (높이 40%)

**카드 레이아웃**
```
┌─────────────────────────┐
│ 🚜 콤바인              │
│    김기계               │
│    ⭐4.8 │ ₩80,000/시간│
│ [예약하기]              │
└─────────────────────────┘
```

**카드 요소**
| 요소 | 설명 |
|------|------|
| 아이콘 | 장비 이모지 (32px) |
| 장비명 | 16px Bold |
| 공급자명 | 14px Gray |
| 평점 | ⭐ 별 + 숫자 (14px) |
| 가격 | ₩XX,XXX/시간 (14px) |
| [예약하기] | 높이 40px, Primary Color 버튼 |

**카드 스타일**
- 배경: White
- 테두리: 1px #E5E7EB
- 반경: 12px
- 패딩: 12px
- 마진: 8px (좌우)
- 높이: 약 120px

**스크롤 및 인터랙션**
- 최대 10개 카드 표시 (스크롤 가능)
- 카드 클릭: EquipmentDetailScreen으로 이동
- [예약하기] 클릭: BookingScreen으로 이동

### 사용자 인터랙션

#### 탭 전환
- **[이동형 🚜] 클릭**: 이동형 장비만 표시
  - 지도 마커 필터링
  - 하단 카드 리스트 업데이트
- **[고정형 🏭] 클릭**: 고정형 장비만 표시

#### 마커 인터랙션
- **마커 클릭**: 팝업 정보 표시
  ```
  콤바인
  김기계
  ⭐4.8
  ₩80,000/시간
  [예약하기]
  ```
- **팝업 외부 클릭**: 팝업 닫기
- **[예약하기] 클릭**: BookingScreen으로 이동

#### 지도 컨트롤
- **[내 위치] 클릭**:
  - 현재 위치로 지도 센터링
  - GPS 재조회 (최신 위치)
  - 위치 권한 없으면 권한 요청
- **[줌+] 클릭**: 줌 인 (최대 17)
- **[줌-] 클릭**: 줌 아웃 (최소 8)
- **[목록 보기] 클릭**: 전체 목록 보기 화면으로 이동

#### 카드 인터랙션
- **카드 클릭**: 해당 장비 상세 정보 (EquipmentDetailScreen)
- **[예약하기] 클릭**: 예약 화면 (BookingScreen)
- **카드 스와이프**: 다음/이전 카드 보기 (선택사항)

#### 검색 및 필터
- **[검색] 버튼**: SearchScreen으로 이동
  - 장비명, 공급자명, 가격 범위, 평점 필터 가능
- **🔍 필터 아이콘**: 필터 옵션 열기
  - 가격 범위: ₩0 ~ ₩999,999
  - 평점: 3.0 이상, 4.0 이상, 4.5 이상
  - 거리: 5km, 10km, 20km, 무제한

#### 헤더 메뉴
- **☰ 메뉴 아이콘**: 드로어 메뉴
  - 내 프로필
  - 내 예약
  - 찜 목록
  - 설정
  - 로그아웃

### 지도 기능 상세

#### 클러스터링
- 마커가 많을 때 (예: 10개 이상) 자동으로 클러스터 표시
- 클러스터 아이콘: "10+" 형태로 표시
- 클러스터 클릭: 해당 영역 줌 인

#### 실시간 마커 업데이트
- 새로운 장비 등록 시: 실시간 반영 (WebSocket 또는 polling)
- 마커 갱신 주기: 30초
- 오프라인 모드: 캐시된 마커 표시

---

## 3. ChatScreen & ChatDetailScreen (1:1 채팅)

### 3.1 ChatScreen (채팅 목록)

#### 레이아웃

```
┌─────────────────────────────────┐
│ ← [뒤로]  채팅                  │ 헤더
├─────────────────────────────────┤
│                                 │
│  [채팅 목록]  [알림] (탭)      │ 탭 네비게이션
│                                 │
│ ▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁ │
│                                 │
│  검색 바                        │
│  ┌───────────────────────────┐  │
│  │ 🔍 채팅 검색...           │  │
│  └───────────────────────────┘  │
│                                 │
│ ▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁ │
│                                 │
│  채팅방 목록 (스크롤)           │
│                                 │
│  ┌──────────────────────────┐   │
│  │ 👤 김기계              1 │   │ 채팅방 1
│  │ "안녕하세요. 예약...   │ │   │ (미읽음 1개)
│  │ 어제 3:45 PM          │ │   │
│  └──────────────────────────┘   │
│                                 │
│  ┌──────────────────────────┐   │
│  │ 👤 이농부                │   │ 채팅방 2
│  │ "네, 좋습니다."        │   │
│  │ 오늘 2:30 PM          │   │
│  └──────────────────────────┘   │
│                                 │
│  ┌──────────────────────────┐   │
│  │ 👤 박시설                │   │ 채팅방 3
│  │ "감사합니다!"          │   │
│  │ 2일 전                 │   │
│  └──────────────────────────┘   │
│                                 │
│  ... (스크롤)                   │
│                                 │
│  [채팅 목록이 비어있습니다]     │ (목록 없을 시)
│                                 │
└─────────────────────────────────┘
```

#### 요소 정의

##### 헤더
```
← [뒤로]  채팅
```
- 왼쪽 뒤로가기 버튼
- 중앙 제목 "채팅" (18px, Bold)
- 배경색: Primary Color (#4CAF50)
- 높이: 56px

##### 탭 네비게이션
```
[채팅 목록]  [알림]
```
- 탭 너비: 각 50%
- 탭 높이: 48px
- 선택된 탭: 언더라인 + Primary Color
- [채팅 목록]: 모든 채팅 표시
- [알림]: 중요 알림 (예: 예약 승인, 결제 완료 등)

##### 검색 바
```
┌───────────────────────────┐
│ 🔍 채팅 검색...           │
└───────────────────────────┘
```
- 높이: 44px
- 테두리: 1px #E5E7EB, 반경 8px
- 배경: #F9FAFB
- 패딩: 12px
- 플레이스홀더: "채팅 검색..."
- 검색: 상대 이름, 마지막 메시지 기준

##### 채팅방 카드

**기본 레이아웃**
```
┌──────────────────────────┐
│ 👤 김기계              1 │
│ "안녕하세요. 예약...   │ │
│ 어제 3:45 PM          │ │
└──────────────────────────┘
```

**카드 요소**

| 요소 | 설명 |
|------|------|
| 👤 아바타 | 40×40px, 원형 |
| 이름 | 16px Bold, 검은색 |
| 마지막 메시지 | 14px, 회색, 1줄만 표시 (말줄임표) |
| 시간 | 12px, 회색 (오른쪽 정렬) |
| 미읽음 배지 | 빨간 배경, 흰 글자, 숫자 |

**카드 스타일**
- 배경: White
- 테두리: 아래쪽 1px #E5E7EB
- 높이: 80px
- 패딩: 12px
- 호버 시: 배경 #F9FAFB

**미읽음 배지**
```
👤 김기계              1
```
- 크기: 24×24px
- 배경: Red (#F44336)
- 텍스트: 흰색 (12px, Bold, 중앙 정렬)
- 위치: 오른쪽 상단

##### 빈 상태 메시지
```
[채팅 목록이 비어있습니다]
```
- 중앙 정렬
- 14px, Gray Color
- 위/아래 마진: 40px

#### 사용자 인터랙션

##### 탭 전환
- **[채팅 목록] 클릭**: 모든 채팅 표시
- **[알림] 클릭**: 알림 목록 표시
  - 예약 승인/거절
  - 결제 완료
  - 예약 취소
  - 시스템 알림

##### 검색
- **검색 바 입력**: 실시간 검색
  - 상대 이름 기준
  - 마지막 메시지 내용 기준
- **검색 결과**: 매칭된 채팅방만 표시

##### 채팅방 인터랙션
- **카드 클릭**: ChatDetailScreen으로 이동
- **카드 길게 누르기 (LongPress)**: 옵션 메뉴 (선택사항)
  - 채팅방 삭제
  - 음소거
  - 핀 고정

---

### 3.2 ChatDetailScreen (채팅 상세)

#### 레이아웃

```
┌─────────────────────────────────┐
│ ← [뒤로] 김기계              📋  │ 헤더
├─────────────────────────────────┤
│                                 │
│  메시지 영역 (스크롤 가능)       │
│  ────────────────────────────   │
│                                 │
│  어제 3:45 PM                   │ 타임스탬프
│  ┌──────────────────────────┐   │
│  │ 상대: "안녕하세요~       │   │ 메시지 1
│  │ 콤바인을 예약하고 싶은데 │   │ (왼쪽 정렬)
│  │ 가능할까요?"             │   │
│  └──────────────────────────┘   │
│                                 │
│  어제 4:10 PM                   │ 타임스탬프
│  ┌──────────────────────────┐   │
│  │                  내 메시지 │   │ 메시지 2
│  │        "안녕하세요~      │   │ (오른쪽 정렬)
│  │   2/14 14시부터 가능합니다" │  │
│  │                    ✓✓     │   │ 읽음 표시
│  └──────────────────────────┘   │
│                                 │
│  오늘 2:30 PM                   │ 타임스탬프
│  ┌──────────────────────────┐   │
│  │ 상대: "좋습니다!         │   │
│  │ 예약 부탁드립니다."      │   │
│  └──────────────────────────┘   │
│                                 │
│  오늘 2:35 PM                   │
│  ┌──────────────────────────┐   │
│  │           "알겠습니다."  │   │
│  │                    ✓     │   │ 발송됨 표시
│  └──────────────────────────┘   │
│                                 │
│ ▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁ │
│                                 │
│  입력 영역                      │
│  ┌───────────────────────────┐  │
│  │ 메시지 입력...            │  │
│  └───────────────────────────┘  │
│  [📎] [전송]                    │
│                                 │
└─────────────────────────────────┘
```

#### 요소 정의

##### 헤더
```
← [뒤로] 김기계              📋
```
- 왼쪽 뒤로가기 버튼
- 중앙: 상대 이름 (18px, Bold)
- 오른쪽: 📋 정보 아이콘 (상세 정보 보기)
- 배경색: Primary Color (#4CAF50)
- 높이: 56px

##### 메시지 영역

**타임스탬프**
```
어제 3:45 PM
```
- 중앙 정렬
- 12px, Gray Color
- 위아래 마진: 16px
- 형식: "어제/오늘/2일 전" 또는 "HH:MM AM/PM"

**상대 메시지 (왼쪽)**
```
┌──────────────────────────┐
│ 상대: "안녕하세요~       │
│ 콤바인을 예약하고 싶은데 │
│ 가능할까요?"             │
└──────────────────────────┘
```

| 속성 | 값 |
|------|-----|
| 정렬 | 왼쪽 (좌측 마진 12px) |
| 배경색 | #EEEEEE (Light Gray) |
| 텍스트색 | #212121 (Black) |
| 테두리 반경 | 12px (상단 좌측 0px) |
| 패딩 | 12px |
| 최대 너비 | 70% |
| 폰트 크기 | 14px |

**내 메시지 (오른쪽)**
```
┌──────────────────────────┐
│                  내 메시지 │
│        "안녕하세요~      │
│   2/14 14시부터 가능합니다" │
│                    ✓✓     │
└──────────────────────────┘
```

| 속성 | 값 |
|------|-----|
| 정렬 | 오른쪽 (우측 마진 12px) |
| 배경색 | Primary Color (#4CAF50) |
| 텍스트색 | White |
| 테두리 반경 | 12px (상단 우측 0px) |
| 패딩 | 12px |
| 최대 너비 | 70% |
| 폰트 크기 | 14px |

**읽음 표시**
```
✓✓ (읽음)
✓  (발송됨)
```
- 읽음: 파란색 (✓✓)
- 발송됨: 회색 (✓)
- 크기: 12px
- 메시지 아래 오른쪽 정렬

##### 입력 영역

**TextInput**
```
┌───────────────────────────┐
│ 메시지 입력...            │
└───────────────────────────┘
```
- 높이: 44px
- 테두리: 1px #E5E7EB, 반경 8px
- 배경: White
- 패딩: 12px
- 플레이스홀더: "메시지 입력..."
- 최대 1000자
- 줄바꿈 가능 (최대 3줄)

**아이콘 버튼**
```
[📎] [전송]
```

| 버튼 | 설명 |
|------|------|
| [📎] | 파일 첨부 (이미지, 파일) - 선택사항 |
| [전송] | 메시지 발송 (Primary Color) |

- 높이: 40px
- 너비: 각 40px
- 간격: 8px
- 아이콘 크기: 20px
- [전송]: 메시지 입력 후 활성화

#### 상세 정보 팝업 (📋 클릭 시)

```
┌─────────────────────────┐
│ 🚜 콤바인 (이동형)      │ 장비 정보
│ 이농부                  │
│ ⭐ 4.8 │ ₩60,000/시간   │
├─────────────────────────┤
│ 📍 경기도 용인          │ 위치
│ 📞 010-9876-5432        │ 전화번호
│ 💬 [메시지] [전화]      │ 빠른 액션
└─────────────────────────┘
```

- 모달 또는 BottomSheet
- 장비 정보 미리보기
- 빠른 액션 버튼 (전화, 프로필 보기)

#### 사용자 인터랙션

##### 메시지 입력 및 발송
- **TextInput 입력**: 메시지 작성
- **[전송] 클릭**: 메시지 발송
  - 로딩 스피너 표시 (짧음)
  - 성공 시: 메시지 표시 (✓ 발송됨)
  - 실패 시: 재시도 옵션
- **엔터 키**: 메시지 발송 (선택사항)

##### 파일 첨부 (선택사항)
- **[📎] 클릭**: 파일 선택 모달
  - 📷 카메라: 실시간 촬영
  - 📁 갤러리: 이미지 선택
  - 📎 파일: 문서 첨부
- **파일 선택**: 첨부 파일 미리보기
- **[전송]**: 파일 포함 메시지 발송

##### 메시지 스크롤
- **최신 메시지**: 자동 스크롤 (새 메시지 수신 시)
- **수동 스크롤**: 과거 메시지 보기
- **스크롤 상단 도달**: "이전 메시지 로드" 버튼 (페이지네이션)

##### 메시지 액션 (LongPress - 선택사항)
- **메시지 길게 누르기**: 옵션 메뉴
  ```
  [복사] [취소] [신고]
  ```
  - [복사]: 메시지 내용 클립보드에 복사
  - [취소]: 메시지 삭제 (내 메시지만)
  - [신고]: 신고 (상대 메시지)

##### 상세 정보 보기
- **헤더의 📋 아이콘 클릭**: 상세 정보 팝업
  - 장비 정보
  - 위치
  - 전화번호
  - [전화], [프로필 보기] 빠른 액션

##### 통화 기능 (선택사항)
- **[전화] 버튼**: 상대에게 전화 (시스템 전화앱 연동)
- **전화 아이콘 클릭**: 상대의 전화번호 통화 시도

#### 메시지 상태

| 상태 | 아이콘 | 설명 |
|------|--------|------|
| 발송됨 | ✓ | 서버에 전송 완료 |
| 읽음 | ✓✓ | 상대가 메시지 읽음 |
| 전송 중 | ⏳ | 발송 대기 중 |
| 실패 | ⚠️ | 발송 실패 |

---

## 네비게이션 맵

```
MainScreen
├── [지도 검색] → MapSearchScreen
│   ├── 마커 클릭 → 팝업 [예약하기]
│   │   └── [예약하기] → BookingScreen
│   ├── 카드 클릭 → EquipmentDetailScreen
│   ├── [검색] → SearchScreen
│   └── ☰ 메뉴
│       ├── [프로필] → ProfileScreen
│       ├── [내 예약] → MyBookingScreen
│       ├── [찜 목록] → WishListScreen
│       ├── [설정] → SettingsScreen
│       └── [로그아웃]

ProfileScreen
├── [장비 등록] → EquipmentRegistrationScreen
│   ├── [다음 단계] → 다음 단계로 진행
│   └── [등록하기] → MainScreen (성공 시)
└── [내 장비] → MyEquipmentListScreen

ProfileScreen / MyBookingScreen
└── [메시지] → ChatScreen
    ├── 채팅방 클릭 → ChatDetailScreen
    │   ├── [전송] → 메시지 발송
    │   ├── [📎] → 파일 첨부
    │   └── [📋] → 상세 정보 팝업
    └── [알림] → 알림 목록

ChatDetailScreen
└── [📋] → 상세 정보 (장비, 위치, 전화)
    ├── [전화] → 시스템 전화앱
    └── [프로필 보기] → 상대 프로필
```

---

## 개발 시 주의사항

### EquipmentRegistrationScreen
1. **다단계 폼**: 각 단계별 데이터 임시 저장
2. **진행률 표시**: 현재 단계와 진행 상황 명확히
3. **필드 검증**: 단계별 진행 전 필수 필드 검증
4. **사진 업로드**: 압축 후 업로드 (성능 최적화)
5. **위치 선택**: GPS 또는 지도 기반 선택 지원

### MapSearchScreen
1. **지도 성능**: 마커 클러스터링으로 성능 최적화
2. **실시간 업데이트**: WebSocket 또는 polling으로 새 장비 반영
3. **캐싱**: 마커 데이터 로컬 캐싱 (오프라인 지원)
4. **GPS 권한**: 사용자 위치 요청 시 권한 체크
5. **오프라인 모드**: 지도 캐시 표시 지원

### ChatScreen & ChatDetailScreen
1. **메시지 로딩**: 페이지네이션으로 성능 최적화
2. **실시간 메시지**: WebSocket으로 실시간 메시지 수신
3. **읽음 상태**: 메시지 읽음 시 상대에게 전송
4. **미읽음 배지**: 채팅 목록에서 미읽음 수 표시
5. **오프라인 메시지**: 인터넷 복구 후 자동 재발송
6. **이미지 첨부**: 압축 후 업로드 (성능 최적화)
7. **타이핑 표시**: 상대가 타이핑 중일 때 "···" 표시 (선택사항)

---

## 디자인 시스템 참고

### 색상 팔레트
| 용도 | 색상 | HEX |
|------|------|-----|
| Primary | 초록색 | #4CAF50 |
| Secondary | 파란색 | #2196F3 |
| Success | 녹색 | #4CAF50 |
| Warning | 주황색 | #FF9800 |
| Danger | 빨간색 | #F44336 |
| Neutral | 회색 | #BDBDBD |
| Light | 밝은 회색 | #F9FAFB |
| Dark | 어두운 회색 | #212121 |

### 타이포그래피
| 용도 | 크기 | 무게 |
|------|------|------|
| 헤더 1 (제목) | 24px | Bold |
| 헤더 2 | 20px | Bold |
| 헤더 3 | 18px | Bold |
| Body | 16px | Regular |
| Body Small | 14px | Regular |
| Caption | 12px | Regular |
| Label | 14px | Bold |

### 간격 (Spacing)
- xs: 4px
- sm: 8px
- md: 12px
- lg: 16px
- xl: 24px
- xxl: 32px

### 테두리 반경
- xs: 4px
- sm: 8px
- md: 12px
- lg: 16px
- full: 50%

---

**Last Updated**: 2026-02-14
**Version**: 1.0.0
