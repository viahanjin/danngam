# danngam MVP 분석 리포트

## 1. 문서 정보

| 항목 | 내용 |
|------|------|
| **작성일** | 2026-02-14 |
| **작성자** | MVP 기획팀 |
| **버전** | 1.0 |
| **목적** | danngam 프로젝트 분석 및 MVP 정의 |
| **상태** | 최종 검토 완료 |

---

## 2. Executive Summary

### 프로젝트 개요
**danngam**은 농기계 공유 경제 플랫폼으로, 소규모 농가와 대형 농가, 개인 농기계 보유자를 연결하는 B2C 서비스입니다. 농기계의 높은 구입 비용 부담을 덜고 유휴 농기계의 활용도를 높이는 것을 목표로 합니다.

### MVP 범위

MVP는 **백엔드 DB 없이 로컬 상태 관리**로 진행합니다.

**포함 기능** (10개 화면):
1. 인증 (로그인/회원가입)
2. 메인 검색 화면 (위치 기반)
3. 검색 결과 리스트
4. 장비 상세 정보
5. 리뷰 목록
6. 예약 화면 (캘린더 + 시간 선택)
7. 결제 화면 (수단 선택)
8. 예약 완료 확인
9. 예약 현황 목록
10. 프로필 관리

**향후 추가** (V1 이후):
- 공급자 셀프 등록 (V1.1)
- 인앱 채팅 (V1.2)
- 지도 UI 개선 (V2)
- 푸시 알림 (V2)

### 주요 성과물
- ✅ 10개 기획 문서 검토 완료
- ✅ Flutter 프로토타입 분석 (1,214줄)
- ✅ 로컬 상태 관리 아키텍처 정의 (API_설계서.md)
- ✅ Mock JSON 데이터 구조 정의
- ✅ MVP 기능 정의 (10개 화면)
- ✅ 비기능 요구사항 명시
- ✅ 향후 백엔드 API 참고안 제시

---

## 3. 프로젝트 개요

### 비즈니스 목표

**Primary Goals**
- 농기계 공유 시장 개척: 선진국 대비 한국의 공유 경제 침투율 확대
- 수익성 확보: 거래액의 8% 플랫폼 수수료로 지속 가능한 비즈니스 모델 구축
- 사용자 커뮤니티 형성: 공급자와 수요자 간 신뢰 기반 구축

**Secondary Goals**
- 소규모 농가의 경영비용 절감 (구입 대비 50% 이상 비용 절감)
- 농기계 유휴 자산의 활용도 증대 (평균 이용률 목표: 연 30회 이상)
- 농업 인프라 균등화 (지역 격차 해소)

### 타겟 사용자

**공급자 (Supply Side)**
- **운영자형**: 농기계 임대 사업을 주업으로 하는 업체
  - 연간 500만원 이상 농기계 투자 규모
  - 낮은 이용률로 인한 수익화 기회 추구

- **개인 임차인형**: 개인 농가의 유휴 장비 임대
  - 연간 2~3회 정도 사용하는 장비 보유
  - 부업으로 추가 수익 창출 희망

**수요자 (Demand Side)**
- **소규모 농가**: 1~5ha 규모 영농
  - 필요한 시기에만 장비 이용
  - 초기 투자비 최소화 필요

- **대형 농가**: 5ha 이상 영농
  - 성수기 피크 시간 추가 장비 임대
  - 새로운 장비 테스트 용도

### 핵심 가치 제안

| 대상 | 가치 제안 |
|------|----------|
| **공급자** | 유휴 자산을 수익원으로 전환, 최소 관리 비용 |
| **수요자** | 높은 초기 투자 회피, 유연한 장비 이용 |
| **플랫폼** | 거래 중개 수수료 수익, 데이터 기반 서비스 확장 |

---

## 4. danngam 프로젝트 분석

### 10개 기획 문서 핵심 추출

#### 4.1 01_페르소나_비교표
**사용자 타입 정의**

**공급자 페르소나**
- **PS-1 (운영자)**: 농기계 임대 전문 사업자
  - 보유 장비: 5대 이상
  - 운영 시간: 연중무휴
  - 관리 역량: 높음

- **PS-2 (임차인)**: 개인 농기계 보유자
  - 보유 장비: 1~2대
  - 운영 시간: 필요시에만
  - 관리 역량: 낮음

**수요자 페르소나**
- **PD-1 (소규모 농가)**: 소규모 영농자
  - 영농 규모: 1~3ha
  - 구매 빈도: 월 2~3회
  - 예산: 1회 20~50만원

- **PD-2 (대형 농가)**: 대규모 영농자
  - 영농 규모: 5ha 이상
  - 구매 빈도: 주 1~2회
  - 예산: 1회 100만원 이상

#### 4.2 02_User_Journey_Map
**사용자 여정 단계**

```
[인식] → [검색] → [검토] → [예약] → [결제] → [이용] → [리뷰]
  ↓      ↓       ↓      ↓      ↓      ↓      ↓
SNS   위치검색  상세정보 날짜선택 카드결제 장비확인 평점작성
홍보   필터링   평가보기 가격확인 환불안내 사진촬영 문제보고
```

**각 단계별 Pain Point**
- **검색**: 정확한 위치 기반 결과 필요
- **검토**: 충분한 정보(스펙, 상태, 평가) 필요
- **결제**: 다양한 결제 수단 지원 필요
- **이용**: 장비 상태 확인 및 손상 대비 필요

#### 4.3 03_BM_Canvas
**비즈니스 모델 정의**

| 영역 | 내용 |
|------|------|
| **Value Proposition** | 저비용 장비 이용 + 유휴자산 수익화 |
| **Revenue Streams** | 거래액의 8% 플랫폼 수수료 |
| **Key Resources** | 모바일 앱, 결제 인프라, 사용자 데이터 |
| **Key Activities** | 매칭 알고리즘, 고객 관리, 리스크 관리 |
| **Key Partnerships** | 결제 게이트웨이, 물류 파트너, 보험사 |
| **Customer Segments** | 소규모/대형 농가, 농기계 보유자 |

**수익 모델 상세**
- 기본 수수료: 거래액의 8%
- 부가 서비스: 보험료 (예정), 광고료 (예정)
- 월간 예상 거래액: 1,000만원 → 수수료 80만원

#### 4.4 04_MVP_정의서
**MVP 기능 스코핑**

**Tier 1 (반드시 포함)**
- 사용자 인증 (전화번호 + OTP)
- 위치 기반 장비 검색
- 장비 상세 정보 조회
- 예약 시스템
- 결제 처리

**Tier 2 (우선 포함)**
- 리뷰 및 평점
- 예약 취소 및 환불
- 공급자 프로필

**Tier 3 (V2 이상)**
- 공급자 셀프 등록
- 인앱 채팅
- 지도 UI
- 푸시 알림

#### 4.5 05_종합_기획서
**전체 기능 맵**

**사용자 관리**
- 회원가입 / 로그인 (OTP 기반)
- 프로필 관리 (개인정보, 휴대폰, 주소)
- 선호지역 설정
- 계약 및 약관 동의

**검색 및 발견**
- 키워드 검색 (장비명, 지역)
- 위치 기반 검색 (30km 반경, 필터링)
- 카테고리별 브라우징
- 인기 장비 추천

**예약 관리**
- 캘린더 기반 예약
- 시간 단위 예약 (최소 4시간)
- 예약 변경 / 취소
- 예약 내역 조회

**결제 및 정산**
- 다중 결제 수단 (카드, 계좌이체, 간편결제)
- 결제 확인 및 영수증
- 환불 처리
- 정산 내역 조회

**평가 및 후기**
- 별점 평가 (1~5점)
- 후기 작성 및 조회
- 사진 업로드
- 신고 기능

#### 4.6 06_화면_정의서
**주요 화면 목록**

| 화면명 | 목적 | 사용자 |
|--------|------|--------|
| 로그인 | 인증 | 전체 |
| 메인 | 검색 입구 | 수요자 |
| 검색결과 | 장비 리스트 | 수요자 |
| 상세정보 | 장비 정보 확인 | 수요자 |
| 예약 | 날짜/시간 선택 | 수요자 |
| 결제 | 결제 수단 선택 | 수요자 |
| 예약확인 | 예약 완료 | 전체 |
| 예약현황 | 예약 목록 | 전체 |
| 후기작성 | 평가 입력 | 수요자 |
| 프로필 | 개인정보 관리 | 전체 |

#### 4.7 07_기술_아키텍처
**기술 스택 (MVP: 로컬 상태 관리)**

**Frontend**
- Framework: Flutter (크로스 플랫폼)
- State Management: Provider (로컬 상태 관리)
- Local Storage: SharedPreferences (사용자 로그인 상태)
- Mock Data: assets/data/*.json
- UI Framework: Material Design 3

**로컬 개발 기준**
- Mock JSON 데이터로 전체 기능 테스트
- Provider로 전역 상태 관리
- 예약/결제는 로컬에서 시뮬레이션
- 리뷰는 LocalStorage에 저장

**향후 백엔드 옵션** (V1 이후 선택)
- Database: PostgreSQL (Supabase 추천)
- API: REST (FastAPI 또는 Supabase PostgREST)
- Authentication: OTP (Supabase GoTrue)
- Payment: Toss / Nice 게이트웨이
- Hosting: Cloud Run / Supabase

#### 4.8 08_상세_화면_설계서
**핵심 화면 플로우**

**메인 검색 플로우**
```
MainScreen
├─ LocationCard (현재 위치)
├─ SearchBar (키워드/필터)
├─ EquipmentCard (결과)
│  ├─ 장비 사진
│  ├─ 장비명 + 공급자명
│  ├─ 거리 + 평점
│  ├─ 시간당 가격
│  └─ 즐겨찾기 버튼
└─ CategoryTabs (카테고리)
```

**예약 플로우**
```
DetailScreen
├─ 상세정보 (스펙, 상태)
├─ 리뷰 타탭
├─ 예약하기 버튼
│  ↓
BookingScreen
├─ 캘린더 (가용 날짜)
├─ 시간 선택 (슬라이더)
├─ 가격 계산 (자동)
└─ 예약 버튼
│  ↓
PaymentScreen
├─ 결제수단 선택
├─ 최종 가격 확인
└─ 결제 버튼
```

#### 4.9 09_브랜드기준_화면설계서
**디자인 시스템**

**색상 팔레트**
- **Primary**: #FF6B35 (따뜻한 오렌지 - 신뢰성 & 활기)
- **Secondary**: #4A90E2 (신선한 블루 - 기술성)
- **Success**: #27AE60 (초록색 - 거래 완료)
- **Warning**: #F39C12 (황색 - 주의)
- **Error**: #E74C3C (빨강색 - 에러)
- **Background**: #F5F5F5 (연한 회색)

**Typography**
- **Font Family**: Pretendard (한글 최적화)
- **Heading 1**: 28px / 700 / Line 1.4
- **Heading 2**: 24px / 700 / Line 1.4
- **Body Large**: 16px / 500 / Line 1.5
- **Body Regular**: 14px / 400 / Line 1.5
- **Caption**: 12px / 400 / Line 1.4

**Component Style**
- **Border Radius**: 24px (카드), 8px (버튼)
- **Spacing Unit**: 8px (기본 단위)
- **Shadow**: 0 2px 8px rgba(0,0,0,0.08)
- **Card**: 24px radius, 8px shadow, 16px padding

**Layout**
- **Mobile-first**: 375px 기준
- **Grid**: 12열 그리드
- **Safe Area**: 16px 좌우 마진
- **Bottom Navigation**: 56px 높이

#### 4.10 10_IA_정보구조
**정보 구조**

```
danngam (App Root)
├─ 인증 (Authentication)
│  ├─ 로그인
│  ├─ 회원가입
│  └─ OTP 검증
├─ 홈 (Home)
│  ├─ 검색 (Search)
│  │  ├─ 위치 필터
│  │  ├─ 카테고리 필터
│  │  └─ 검색결과
│  ├─ 발견 (Discover)
│  │  ├─ 인기 장비
│  │  ├─ 추천 장비
│  │  └─ 신규 장비
│  └─ 예약 (Bookings)
│     ├─ 진행중
│     ├─ 완료됨
│     └─ 취소됨
├─ 상세 (Detail)
│  ├─ 장비정보
│  ├─ 리뷰
│  ├─ 공급자정보
│  └─ 예약하기
├─ 결제 (Payment)
│  ├─ 결제수단
│  ├─ 결제확인
│  └─ 영수증
└─ 프로필 (Profile)
   ├─ 개인정보
   ├─ 주소
   ├─ 설정
   └─ 로그아웃
```

---

## 5. 장비 타입 분류 (중요)

### 5.1 이동형 장비 (Mobile Equipment)

**정의**: 사용자가 현장으로 운송하여 사용하고, 공급자 위치에서 픽업하는 장비

**특징**
- 위치 이동 가능
- 공급자 현장 방문 필수
- GPS 추적 가능
- 픽업/반납 프로세스 명확

**포함 장비**
- **경운기계**: 트랙터, 경운기, 이앙기
- **수확기계**: 콤바인, 벼 수확기, 옥수수 수확기
- **운반기계**: 운반차, 지게차, 동력분사기
- **토공기계**: 소형 굴착기, 미니 덤프

**MVP 지원**: ✅ 우선 지원

**검색 기준**
```
위치 기반 검색 (30km 반경)
├─ GPS 좌표 (공급자 위치)
├─ 실제 거리 계산 (직선거리, 예정)
└─ 필터링 (장비 타입, 가격, 평점)
```

### 5.2 고정형 장비 (Stationary Equipment)

**정의**: 특정 위치에 고정되어 있으며, 공급자 시설을 방문하여 사용하는 장비

**특징**
- 특정 위치 고정
- 공급자 시설 방문 필수
- 시간 단위 이용 (반일/일일/주)
- 공급자의 관리 하에 사용

**포함 장비**
- **건조기계**: 곡물 건조기, 영농건조기, 열풍건조기
- **저장기계**: 저온저장고, 냉동창고, 통풍저장고
- **가공기계**: 방아, 척분기, 마쇄기
- **선별기계**: 곡물 선별기, 작물 선별기

**MVP 지원**: ✅ 우선 지원

**검색 기준**
```
위치 기반 검색 (30km 반경)
├─ GPS 좌표 (시설 위치)
├─ 실제 거리 계산
└─ 시간대 가용성 (예약 캘린더)
```

### 5.3 장비 타입 구분 UI 명확화

**공급자 입력 시** (V2 이상에서 셀프 등록)
```
[장비 타입 선택]
○ 이동형 (픽업 필수)
  - 트랙터, 경운기, 콤바인 등
  - 공급자 위치: [주소 입력]
  - 픽업 가능 시간: [시간 설정]

○ 고정형 (현장 방문)
  - 건조기, 저온저장고, 선별기 등
  - 시설 위치: [주소 입력]
  - 방문 가능 시간: [시간 설정]
```

**수요자 검색 시**
```
[위치 기반 검색 결과]
┌─ 이동형 (픽업형) ─────────────┐
│ [장비카드]                      │
│ 트랙터 (T-1000)                │
│ 거리: 2.5km (○공급자 위치)      │
│ 픽업: 매일 08:00~17:00          │
└─────────────────────────────┘

┌─ 고정형 (방문형) ─────────────┐
│ [장비카드]                      │
│ 곡물 건조기                      │
│ 거리: 5.2km (○시설 위치)        │
│ 운영: 매일 06:00~20:00          │
└─────────────────────────────┘
```

---

## 6. 디자인 시스템

### 6.1 색상 규격

**Primary Color Palette**
```
Primary:      #FF6B35 (RGB: 255, 107, 53) - 주요 액션 버튼, 브랜드 색상
Primary-Light: #FFE5D4 (배경, 강조)
Primary-Dark: #D94520 (호버, 포커스)
```

**Semantic Colors**
```
Success:   #27AE60 (거래 완료, 긍정)
Warning:   #F39C12 (주의 필요)
Error:     #E74C3C (오류, 취소)
Info:      #4A90E2 (정보 제공)
```

**Neutral Colors**
```
Text-Primary:    #1A1A1A (메인 텍스트)
Text-Secondary:  #666666 (보조 텍스트)
Text-Disabled:   #CCCCCC (비활성)
Divider:         #E8E8E8 (구분선)
Background:      #F5F5F5 (배경)
Card-Background: #FFFFFF (카드)
```

### 6.2 Typography

**Font Family**: Pretendard
- 이유: 한글 최적화, 가독성 우수, Google Fonts 지원

**Type Scale**
```
Display: 32px / 700 / -0.5px
Heading 1: 28px / 700 / 0px
Heading 2: 24px / 700 / 0px
Heading 3: 20px / 600 / 0px

Body Large: 16px / 500 / 0.2px
Body Regular: 14px / 400 / 0px
Body Small: 12px / 400 / 0px

Caption: 12px / 400 / 0px
```

### 6.3 Component Style

**Card Component**
```
Border Radius: 24px
Background: #FFFFFF
Shadow: 0 2px 8px rgba(0,0,0,0.08)
Padding: 16px
Margin Bottom: 12px

Example:
┌──────────────────────────┐
│ [사진] 트랙터              │
│        ⭐ 4.8 (52 리뷰)    │
│ 시간당 5만원               │
│ 거리: 2.5km              │
│ [찜하기] [예약하기]       │
└──────────────────────────┘
```

**Button Style**
```
Primary Button:
- Background: #FF6B35
- Foreground: #FFFFFF
- Border Radius: 8px
- Padding: 16px 24px
- Min Height: 48px

Secondary Button:
- Background: #F5F5F5
- Foreground: #1A1A1A
- Border: 1px #E8E8E8
```

**Input Field**
```
Border: 1px #E8E8E8
Border Radius: 8px
Padding: 12px 16px
Font Size: 14px
Focus Border: 2px #FF6B35
```

### 6.4 Layout Grid

**Mobile-First Approach**
```
기준 해상도: 375px (iPhone SE 기준)
안전 영역(Safe Area): 좌우 16px

12열 그리드:
- Column Width: (375 - 32) / 12 = 28.6px
- Gutter: 8px

예시 레이아웃:
┌────────────────────────────┐
│ [16px margin]              │
│ ┌──────────────────────┐  │
│ │ Header (전체)        │  │
│ └──────────────────────┘  │
│ ┌──────────┬──────────┐  │
│ │ Col 1-6  │ Col 7-12 │  │
│ │          │          │  │
│ └──────────┴──────────┘  │
│ [16px margin]              │
└────────────────────────────┘
```

**Breakpoints**
```
Mobile: < 600px (375px 기준)
Tablet: 600px - 1000px
Desktop: > 1000px (Future)
```

### 6.5 Bottom Navigation

**고정 위치 네비게이션**
```
높이: 56px (아이콘 24px + 텍스트 12px + 패딩)
배경: #FFFFFF
보더: 1px #E8E8E8 (상단)
Safe Area 고려: 아래 16px 추가 패딩

탭 구성:
[🔍 검색] [💎 발견] [📅 예약] [👤 프로필]
```

---

## 7. 핵심 기능 요구사항 (MVP 범위)

### 7.1 포함 기능 (✅ In Scope)

#### 7.1.1 인증 시스템

**전화번호 기반 인증**
```
플로우:
1. 전화번호 입력 (e.164 형식)
2. OTP 발송 (6자리, 3분 유효)
3. OTP 검증
4. 회원가입 (닉네임, 주소)
5. 프로필 완성

데이터:
- phone: String (고유)
- otp: String (암호화 저장)
- otp_expires_at: DateTime
- verified_at: DateTime
- user_role: enum (supplier, demander)
```

**보안 요구사항**
- OTP는 3분 유효
- 5회 오류 시 3분 잠금
- 암호화: bcrypt / argon2
- HTTPS 필수

#### 7.1.2 위치 기반 장비 검색

**검색 반경**: 30km 반경 (GPS 기준)

**이동형 장비 검색**
```
입력:
- 사용자 위치 (GPS)
- 필터: 장비 타입, 가격 범위, 평점
- 정렬: 거리순, 가격순, 평점순

출력:
- 장비 리스트 (이동형만)
- 공급자 위치 기준 거리 계산
- 픽업 가능 시간 표시
```

**고정형 장비 검색**
```
입력:
- 사용자 위치 (GPS)
- 필터: 장비 타입, 가격 범위, 평점
- 정렬: 거리순, 가격순, 평점순

출력:
- 장비 리스트 (고정형만)
- 시설 위치 기준 거리 계산
- 방문 가능 시간 표시
```

**필터링 옵션**
```
- 장비 카테고리 (다중 선택)
- 가격 범위 (슬라이더: 10k ~ 500k)
- 최소 평점 (3.0 이상)
- 리뷰 수 (10개 이상)
```

#### 7.1.3 장비 상세 정보

**필수 정보**
```
기본 정보:
- 장비명, 모델명
- 제조사, 제조 연도
- 장비 상태 (매우좋음/좋음/보통)
- 스펙 (파워, 용량 등)

가용성 정보:
- 예약 캘린더 (30일 이전)
- 시간당 가격
- 거리 및 예상 배송비
- 픽업/방문 시간

신뢰도 정보:
- 평균 평점 (4.8)
- 리뷰 수 (52개)
- 공급자 프로필 (이름, 별점)
- 답변 속도

사진:
- 최소 3장, 최대 10장
- 정면, 측면, 상세 사진
```

**선택 정보**
- 보험 여부
- 배송/픽업 가능 여부
- 특별 주의사항
- 점검 기록

#### 7.1.4 예약 시스템

**예약 프로세스**
```
1. 장비 선택
2. 날짜 선택 (캘린더)
3. 시간 선택 (슬라이더, 최소 4시간)
4. 가격 자동 계산
5. 예약 확인 (전 단계)
6. 결제로 이동
```

**예약 데이터**
```
booking_id: UUID
user_id: UUID (수요자)
equipment_id: UUID
start_datetime: DateTime
end_datetime: DateTime
duration_hours: Integer
hourly_rate: Integer
total_amount: Integer
status: enum (pending, confirmed, cancelled)
```

**가용성 판단**
```
- 선택한 시간 구간이 다른 예약과 겹치지 않음
- 공급자 운영 시간 내
- 장비 정상 상태
```

#### 7.1.5 결제 시스템

**지원 결제 수단**
1. **신용카드** (Visa, Mastercard, 국내 카드)
   - 토스 결제 연동
2. **계좌이체** (실시간 이체)
   - 토스 또는 Nice 게이트웨이
3. **간편결제** (네이버페이, 카카오페이)
   - 예정 (V1.1)

**결제 프로세스**
```
예약확인
  ↓
결제수단 선택
  ↓
결제 정보 입력
  ↓
결제 요청 (Toss API)
  ↓
결제 완료/실패
  ↓
확인 화면
```

**결제 데이터**
```
payment_id: UUID
booking_id: UUID
amount: Integer (수수료 제외)
platform_fee: Integer (8%)
total_amount: Integer
payment_method: enum (card, transfer, naverpay)
payment_status: enum (pending, completed, failed, refunded)
receipt_url: String
created_at: DateTime
```

**에러 처리**
- 결제 실패 시 재시도 (3회까지)
- 실패 사유 표시
- 고객 지원 연락처 제공

#### 7.1.6 리뷰 및 평점

**리뷰 작성 조건**
- 예약 완료 후 24시간 이상 경과
- 1회만 작성 가능
- 이미지 최대 5장 첨부

**리뷰 데이터**
```
review_id: UUID
booking_id: UUID
equipment_id: UUID
reviewer_id: UUID (수요자)
rating: Integer (1-5)
title: String (최대 50자)
content: String (최대 500자)
images: Array[String] (S3 URL)
helpful_count: Integer
reported: Boolean
created_at: DateTime
```

**평점 계산**
```
평균 평점 = (모든 평점의 합) / (평가 개수)
가중치: 최근 리뷰 10% 더 반영 (30일 이내)
```

---

## 8. 비즈니스 모델

### 8.1 플랫폼 수수료

**기본 수수료**: 8% (업계 평균 5~10%)

**계산 방식**
```
예시: 50,000원 예약
- 공급자 수익: 46,000원 (92%)
- 플랫폼 수수료: 4,000원 (8%)

월간 매출 예측:
- 월 거래액 1,000만원 × 8% = 80만원
- 월 거래액 5,000만원 × 8% = 400만원
- 월 거래액 1억원 × 8% = 800만원
```

**수수료 적용 기준**
- 결제 완료 시점에 자동 공제
- 캐시백/할인은 별도 수수료율 적용 (예: 5%)

### 8.2 취소 정책

**수요자 취소 정책**
```
취소 시점          수수료      환불액
─────────────────────────────────
예약 1시간 이전    0%         100%
예약 1시간 내     10%         90%
이용 중 취소      100%         0%
```

**공급자 취소 정책** (V2 이상 검토)
```
공급자가 취소 시:
- 수요자: 100% 환불 + 5,000원 쿠폰
- 플랫폼: 수수료 반환 (정산 대기 중)
```

**환불 프로세스**
```
취소 요청
  ↓
환불 가능 여부 판단
  ↓
환불 처리 (결제사)
  ↓
3~5 영업일 내 입금
  ↓
환불 완료 알림
```

### 8.3 결제 수단

**1차 지원 (MVP)**
- 신용카드 (VISA, Mastercard, 국내 카드)
- 실시간 계좌이체

**2차 지원 (V1.1)**
- 네이버페이
- 카카오페이

**3차 지원 (V2 이상)**
- 휴대폰 소액결제
- 선불금 시스템

---

## 9. Flutter 프로토타입 분석

### 9.1 코드 규모 및 구조

**프로젝트 규모**
```
총 코드라인: 약 1,214줄
파일 구조:
├─ lib/
│  ├─ main.dart (진입점)
│  ├─ screens/
│  │  ├─ main_screen.dart (440줄)
│  │  ├─ detail_screen.dart (280줄)
│  │  ├─ booking_screen.dart (310줄)
│  │  └─ payment_screen.dart (250줄)
│  ├─ widgets/
│  │  ├─ equipment_card.dart (80줄)
│  │  ├─ payment_method_tile.dart (60줄)
│  │  └─ price_calculator.dart (70줄)
│  ├─ models/
│  │  ├─ equipment.dart
│  │  ├─ booking.dart
│  │  └─ user.dart
│  └─ services/
│     ├─ api_service.dart
│     ├─ location_service.dart
│     └─ payment_service.dart
```

### 9.2 주요 화면 분석

**MainScreen (홈 화면)**
```
계층 구조:
Scaffold
├─ AppBar (검색 입력)
├─ Body:
│  ├─ LocationCard (현재 위치)
│  ├─ FilterChips (카테고리)
│  └─ ListView (EquipmentCard 리스트)
└─ BottomNavigationBar

주요 기능:
- 위치 기반 장비 리스트 로드
- 필터링 (카테고리, 가격)
- DetailScreen으로 네비게이션
```

**DetailScreen (상세 화면)**
```
계층 구조:
SingleChildScrollView
├─ ImageCarousel (사진 슬라이드)
├─ EquipmentInfo (기본 정보)
├─ TabBar:
│  ├─ 상세정보 탭
│  ├─ 리뷰 탭
│  └─ 공급자 탭
└─ BottomButton (예약하기)

주요 기능:
- 장비 상세정보 표시
- 리뷰 목록 표시
- 예약 버튼 → BookingScreen 네비게이션
```

**BookingScreen (예약 화면)**
```
계층 구조:
SingleChildScrollView
├─ 예약 요약 (장비명, 가격)
├─ 날짜 선택 (DatePicker)
├─ 시간 선택 (RangeSlider)
├─ 가격 계산 (실시간 업데이트)
└─ BottomButton (결제하기)

주요 기능:
- 캘린더에서 날짜 선택
- 슬라이더로 시간 범위 선택
- 가격 자동 계산
- PaymentScreen으로 네비게이션
```

**PaymentScreen (결제 화면)**
```
계층 구조:
SingleChildScrollView
├─ 예약 최종 확인
├─ 가격 상세 (기본요금, 수수료)
├─ PaymentMethodTile 리스트
│  ├─ 신용카드
│  ├─ 계좌이체
│  └─ 간편결제
└─ BottomButton (결제)

주요 기능:
- 최종 가격 확인
- 결제 수단 선택
- 결제 API 호출
- 완료 화면 표시
```

### 9.3 Widget 패턴

**EquipmentCard 위젯**
```dart
class EquipmentCard extends StatelessWidget {
  final Equipment equipment;
  final VoidCallback onTap;

  @override
  Widget build(BuildContext context) {
    return GestureDetector(
      onTap: onTap,
      child: Card(
        shape: RoundedRectangleBorder(
          borderRadius: BorderRadius.circular(24),
        ),
        child: Column(
          children: [
            // 사진
            ClipRRect(
              borderRadius: BorderRadius.vertical(
                top: Radius.circular(24),
              ),
              child: Image.network(equipment.imageUrl),
            ),
            // 정보
            Padding(
              padding: EdgeInsets.all(16),
              child: Column(
                children: [
                  Text(equipment.name),
                  // 평점, 가격 등
                ],
              ),
            ),
          ],
        ),
      ),
    );
  }
}
```

**PaymentMethodTile 위젯**
```dart
class PaymentMethodTile extends StatelessWidget {
  final String method;
  final bool isSelected;
  final VoidCallback onTap;

  @override
  Widget build(BuildContext context) {
    return ListTile(
      leading: Image.asset('assets/icons/$method.png'),
      title: Text(method),
      trailing: isSelected
        ? Icon(Icons.radio_button_checked)
        : Icon(Icons.radio_button_unchecked),
      onTap: onTap,
    );
  }
}
```

### 9.4 상태 관리 (현재)

**setState 기반 관리**
```dart
class MainScreen extends StatefulWidget {
  @override
  State<MainScreen> createState() => _MainScreenState();
}

class _MainScreenState extends State<MainScreen> {
  List<Equipment> equipments = [];
  String selectedFilter = 'all';

  @override
  void initState() {
    super.initState();
    _loadEquipments();
  }

  Future<void> _loadEquipments() async {
    final data = await apiService.getEquipments();
    setState(() {
      equipments = data;
    });
  }
}
```

**MVP 이후 개선 방향**
- Provider 또는 Riverpod으로 마이그레이션
- 상태 계층화 (UI State, Business Logic, Data)
- 에러 처리 강화

### 9.5 기술 스택 평가

**긍정적 측면**
- ✅ 크로스플랫폼 (iOS/Android 동시 지원)
- ✅ 빠른 개발 속도 (Hot Reload)
- ✅ Material Design 3 기본 지원
- ✅ 풍부한 위젯 라이브러리

**개선 필요 영역**
- ❌ 상태 관리 고도화 필요
- ❌ 에러 처리 강화 필요
- ❌ 테스트 코드 추가 필요
- ❌ 성능 최적화 (이미지 캐싱 등)

---

## 10. 백엔드 옵션 비교

### 10.1 종합 비교표

| 항목 | Supabase | FastAPI | Firebase |
|------|----------|---------|----------|
| **데이터베이스** | PostgreSQL | 자유 선택 | Firestore/Realtime DB |
| **인증** | 내장 (GoTrue) | 별도 구현 | 내장 (완전) |
| **API** | Auto-generated | 수동 작성 | Auto-generated |
| **비용 (월)** | 0~100$ | 50~300$ | 0~500$ |
| **확장성** | 중상 | 높음 | 중상 |
| **학습곡선** | 낮음 | 높음 | 낮음 |
| **벤더 락인** | 중간 | 낮음 | 높음 |
| **실시간 기능** | 제한적 | 별도 구현 | 완전 지원 |
| **MVP 적합성** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ |

### 10.2 Supabase (추천)

**선택 이유**
- PostgreSQL 기반의 강력한 데이터베이스
- REST API 자동 생성
- OTP 인증 기본 지원
- Realtime Subscriptions (향후 알림 기능)
- 합리적인 가격

**장점**
```
✅ 빠른 MVP 출시 (API 자동 생성)
✅ PostgreSQL 신뢰성
✅ 직관적인 관리 대시보드
✅ 한국 개발자 커뮤니티 활성
✅ 오픈소스 기반 (벤더 락인 낮음)
```

**단점**
```
❌ 복잡한 비즈니스 로직 구현 어려움
❌ 실시간 기능 제한
❌ 대규모 트래픽 예측 불명확
```

**기본 구성**
```
Supabase Project
├─ Authentication (OTP)
├─ Database (PostgreSQL)
│  ├─ users 테이블
│  ├─ equipments 테이블
│  ├─ bookings 테이블
│  ├─ reviews 테이블
│  └─ payments 테이블
├─ Storage (사진 저장)
├─ Functions (결제 처리, 알림)
└─ Realtime (푸시 알림 준비)
```

**비용 추정 (MVP 기간)**
```
Supabase Free Tier:
- 2 프로젝트
- 500MB 저장소
- 2GB 대역폭
- 월 2백만 API 호출

추정: 무료 플랜으로 시작 → 유료 (월 25$) 전환
```

### 10.3 FastAPI (선택)

**선택 시 고려사항**
- 높은 자유도 필요 시
- 복잡한 비즈니스 로직 구현
- 마이크로서비스 아키텍처 계획

**장점**
```
✅ 자유로운 아키텍처 설계
✅ Python 기반 빠른 개발
✅ 자동 API 문서 (Swagger)
✅ 높은 확장성
```

**단점**
```
❌ 서버 운영 비용 (GCP Cloud Run 등)
❌ 인프라 관리 복잡성
❌ 초기 구축 시간 소요
```

### 10.4 Firebase (대안)

**사용 시나리오**
- 실시간 기능 중시
- Google Cloud 인프라 활용

**장점**
```
✅ 완전 관리형 서비스
✅ 실시간 Firestore
✅ 자동 스케일링
```

**단점**
```
❌ 높은 비용 (트래픽 증가 시)
❌ 강한 벤더 락인
❌ SQL 쿼리 제한
```

### 10.5 최종 권장안

**MVP 단계**: Supabase
- 빠른 구축
- 저비용
- 합리적인 성능

**확장 단계 (V2~V3)**: FastAPI 검토
- 복잡도 증가 시 마이그레이션
- 또는 Supabase 유지 + 보조 서버 추가

---

## 11. MVP 범위 정의

### 11.1 User Stories (5개)

**US-1: 농기계 검색**
```
As a 수요자
I want to 내 위치 기준 30km 반경의 농기계를 검색하고 필터링할 수 있기를
So that 필요한 장비를 빠르게 찾을 수 있다

수락 기준:
- 현재 위치 기반 검색 (GPS)
- 이동형/고정형 구분 표시
- 카테고리, 가격, 평점 필터
- 거리순/가격순/평점순 정렬
```

**US-2: 장비 예약**
```
As a 수요자
I want to 캘린더에서 날짜를 선택하고 원하는 시간 동안 농기계를 예약할 수 있기를
So that 필요한 시간에 장비를 이용할 수 있다

수락 기준:
- 캘린더에서 가용 날짜만 표시
- 최소 4시간 단위 선택
- 실시간 가격 계산
- 예약 전 최종 확인 화면
```

**US-3: 결제 처리**
```
As a 수요자
I want to 신용카드 또는 계좌이체로 결제할 수 있기를
So that 안전하게 거래를 완료할 수 있다

수락 기준:
- 신용카드/계좌이체 지원
- 실시간 결제 상태 확인
- 결제 실패 시 재시도
- 결제 완료 영수증 제공
```

**US-4: 리뷰 작성**
```
As a 수요자
I want to 예약 완료 후 별점과 후기를 남길 수 있기를
So that 다른 사용자들이 장비 품질을 판단할 수 있도록 도움을 줄 수 있다

수락 기준:
- 1~5점 평점 입력
- 사진 최대 5장 첨부
- 최대 500자 후기 작성
- 이미 작성한 리뷰는 편집 불가
```

**US-5: 예약 관리**
```
As a 수요자
I want to 내 예약 내역을 조회하고 필요시 취소할 수 있기를
So that 예약 상태를 관리할 수 있다

수락 기준:
- 예약 목록 (진행중/완료/취소)
- 예약 상세정보 확인
- 취소 정책 안내 후 취소 가능
- 취소 후 환불 처리
```

### 11.2 Feature List (MVP 로컬 개발: 15개)

| ID | 기능 | 우선순위 | 복잡도 | 예상 기간 | 비고 |
|-----|------|----------|--------|----------|------|
| F1 | 로그인 (로컬 시뮬레이션) | 필수 | 저 | 2일 | Mock 사용자 |
| F2 | 회원가입 화면 | 필수 | 저 | 2일 | UI 레이아웃만 |
| F3 | 위치 기반 검색 (로컬 데이터) | 필수 | 중 | 3일 | Haversine 계산 |
| F4 | 카테고리 필터 | 필수 | 저 | 1일 | 로컬 필터링 |
| F5 | 가격/평점 필터 | 필수 | 저 | 1일 | 로컬 필터링 |
| F6 | 장비 상세정보 | 필수 | 중 | 2일 | 리뷰 목록 포함 |
| F7 | 이미지 슬라이드 | 필수 | 중 | 2일 | 캐러셀 UI |
| F8 | 캘린더 예약 | 필수 | 중 | 3일 | 로컬 가용성 체크 |
| F9 | 시간 선택 (슬라이더) | 필수 | 저 | 1일 | 범위 선택 UI |
| F10 | 가격 계산 (자동) | 필수 | 저 | 1일 | 수수료 8% 포함 |
| F11 | 결제 화면 (시뮬레이션) | 필수 | 저 | 2일 | 로컬 결제 완료 |
| F12 | 예약 현황 (리스트) | 필수 | 중 | 2일 | 로컬 저장된 예약 |
| F13 | 예약 취소 | 필수 | 저 | 1일 | 로컬에서 상태 변경 |
| F14 | 리뷰 작성 | 필수 | 중 | 2일 | 로컬 저장 |
| F15 | 프로필 관리 | 필수 | 저 | 1일 | SharedPreferences |

**총 예상 개발 기간**: 25~30일 (3~4주)

### 11.3 Data Models (5개)

**Model 1: User**
```
{
  id: UUID (PK)
  phone: String (unique)
  name: String
  profile_image_url: String?
  address: String
  address_detail: String?
  latitude: Float
  longitude: Float
  role: enum(supplier, demander)
  verified_at: DateTime
  rating: Float (공급자용)
  review_count: Integer (공급자용)
  created_at: DateTime
  updated_at: DateTime
}
```

**Model 2: Equipment**
```
{
  id: UUID (PK)
  supplier_id: UUID (FK: User)
  name: String
  type: enum(mobile, stationary)
  category: String (트랙터, 건조기 등)
  model: String
  manufacturer: String
  manufacturing_year: Integer
  specifications: JSON
  condition: enum(excellent, good, fair)
  hourly_rate: Integer (원)
  location_type: enum(mobile, stationary)
  latitude: Float
  longitude: Float (공급자 위치)
  available_from: DateTime
  available_until: DateTime
  operation_hours_start: String (HH:MM)
  operation_hours_end: String (HH:MM)
  images: Array[String] (S3 URLs)
  rating: Float
  review_count: Integer
  status: enum(active, inactive, maintenance)
  created_at: DateTime
  updated_at: DateTime
}
```

**Model 3: Booking**
```
{
  id: UUID (PK)
  user_id: UUID (FK: User, 수요자)
  equipment_id: UUID (FK: Equipment)
  start_datetime: DateTime
  end_datetime: DateTime
  duration_hours: Integer
  hourly_rate: Integer
  total_amount: Integer (수수료 제외)
  platform_fee: Integer (8%)
  status: enum(pending, confirmed, completed, cancelled)
  cancellation_reason: String?
  cancelled_at: DateTime?
  created_at: DateTime
  updated_at: DateTime
}
```

**Model 4: Payment**
```
{
  id: UUID (PK)
  booking_id: UUID (FK: Booking)
  amount: Integer
  platform_fee: Integer
  total_amount: Integer
  payment_method: enum(card, transfer, naverpay)
  payment_status: enum(pending, completed, failed, refunded)
  merchant_uid: String (결제사 고유 ID)
  receipt_url: String?
  refund_amount: Integer?
  refund_reason: String?
  refunded_at: DateTime?
  created_at: DateTime
  updated_at: DateTime
}
```

**Model 5: Review**
```
{
  id: UUID (PK)
  booking_id: UUID (FK: Booking, unique)
  equipment_id: UUID (FK: Equipment)
  reviewer_id: UUID (FK: User)
  rating: Integer (1-5)
  title: String (최대 50자)
  content: String (최대 500자)
  images: Array[String] (S3 URLs, 최대 5개)
  helpful_count: Integer
  reported: Boolean
  report_reason: String?
  created_at: DateTime
  updated_at: DateTime
}
```

### 11.4 로컬 상태 관리 (API 없음)

**현재 MVP는 API 없이 로컬 상태 관리로 진행합니다.**

**로컬 데이터 소스**:
```
assets/data/
├── users.json          # Mock 사용자
├── equipments.json     # Mock 장비 (이동형/고정형 포함)
├── bookings.json       # 예약 목록
├── payments.json       # 결제 목록
├── reviews.json        # 리뷰 목록
└── categories.json     # 카테고리
```

**State Management (Provider)**:
```
lib/providers/
├── user_provider.dart         # 현재 사용자
├── equipment_provider.dart    # 장비 검색/필터
├── booking_provider.dart      # 예약 생성/관리
├── payment_provider.dart      # 결제 처리
└── review_provider.dart       # 리뷰 작성/조회
```

**LocalStorage (SharedPreferences)**:
```
- current_user: 현재 사용자 정보
- user_bookings: 사용자의 예약 목록
- user_reviews: 사용자의 리뷰
```

**향후 백엔드 API (V1 이후)**:
- 15개 REST API 엔드포인트
- 상세 내용은 API_설계서.md Part 2 참고
- Supabase / FastAPI / Firebase 중 선택

---

## 12. 비기능 요구사항

### 12.1 성능 (Performance)

**응답 시간**
```
앱 시작: < 2초
- 스플래시 화면 표시: 0.5초
- 초기 데이터 로드: 1.5초

API 응답: < 500ms
- 평균 응답: 200~300ms
- P95: 450ms 이내

이미지 로딩: < 1초
- 썸네일: 200x200px, < 100KB
- 상세 이미지: 1200x800px, < 500KB (캐싱 활용)
```

**메모리 사용**
```
앱 메모리: < 150MB
- 낮음: 스플래시 ~ 메인
- 높음: 이미지 로드 시

데이터베이스 쿼리 최적화:
- 인덱싱 (location, created_at)
- 페이지네이션 (20개 단위)
```

### 12.2 보안 (Security)

**통신 보안**
```
HTTPS/TLS 1.3 필수:
- 모든 API 통신 암호화
- Certificate Pinning (향후)

OTP 보안:
- 6자리 숫자
- 3분 유효
- 암호화 저장 (bcrypt, salt)
- 5회 실패 시 3분 잠금
```

**데이터 보안**
```
민감 데이터 암호화:
- 신용카드 정보: 토스 토큰화 (저장 금지)
- 전화번호: AES-256 암호화
- 주소: 암호화 저장

데이터 접근:
- 사용자는 자신의 데이터만 접근
- 공급자는 자신의 장비 데이터만 수정
```

**기타 보안**
```
- API Rate Limiting (분당 100요청)
- SQL Injection 방지 (Prepared Statements)
- CSRF 방지 (CSRF Token)
- XSS 방지 (Input Validation)
```

### 12.3 접근성 (Accessibility)

**시각 접근성**
```
- 최소 폰트 크기: 14px
- 색상 대비: WCAG AA 기준 4.5:1
- 아이콘 + 텍스트 조합
- 다크 모드 지원 (향후)
```

**상호작용 접근성**
```
- 터치 영역 최소: 48x48dp
- 버튼 간 간격: 최소 8px
- 명확한 상태 표시 (포커스, 선택)
- 키보드 네비게이션 지원
```

**기타 접근성**
```
- 스크린 리더 지원 (Semantic Labels)
- 애니메이션 줄이기 옵션
- 자막/텍스트 대체 설명
```

### 12.4 지원 플랫폼

**iOS**
```
최소 버전: iOS 15
지원 기기: iPhone SE 이상
화면: 375px ~ 428px (iPhone 14 Pro Max)
```

**Android**
```
최소 버전: Android 11 (API 30)
지원 기기: 대부분의 스마트폰
화면: 360px ~ 480px (일반), 540px+ (태블릿)
```

**테스트 기기**
```
iOS:
- iPhone SE (375x667)
- iPhone 14 Pro (390x844)
- iPhone 14 Pro Max (430x932)

Android:
- Pixel 4a (390x844)
- Galaxy S21 (360x800)
- Galaxy Tab S7 (1280x800)
```

---

## 13. 위험 요소 및 대응

### 13.1 기술적 위험

| 위험 | 영향도 | 대응 |
|------|--------|------|
| **위치 기반 검색 부정확** | 높음 | GPS 테스트 강화, 보정 알고리즘 |
| **이동형/고정형 구분 혼동** | 높음 | UI 명확화, 아이콘 차별화 |
| **결제 실패** | 높음 | 재시도 로직, 에러 핸들링 |
| **이미지 로딩 지연** | 중간 | CDN 사용, 이미지 최적화 |
| **API 응답 지연** | 중간 | 캐싱, 데이터베이스 인덱싱 |

### 13.2 비즈니스적 위험

| 위험 | 영향도 | 대응 |
|------|--------|------|
| **수요 부족** | 높음 | 초기 사용자 확보, 마케팅 |
| **공급자 확보 어려움** | 높음 | 초기 파트너십, 인센티브 |
| **취소율 증가** | 중간 | 취소 정책 명확화, 고객 지원 |
| **평가 조작** | 중간 | 리뷰 검증, 신고 기능 |

### 13.3 법적 위험

| 위험 | 대응 |
|------|------|
| **소비자 보호** | 명확한 약관, 환불 정책 |
| **개인정보 보호** | 암호화, GDPR/PIPA 준수 |
| **거래 중개료** | 투명한 수수료 공시 |
| **제3자 책임** | 보험 가입, 명확한 면책 조항 |

---

## 14. 아키텍처 변경 사항

### 14.0 로컬 개발 vs 백엔드 개발

**현재 MVP (로컬 상태 관리)**
```
┌─────────────────┐
│   Flutter App   │
├─────────────────┤
│  Provider       │  ← 전역 상태 관리
├─────────────────┤
│  Mock JSON      │  ← assets/data/*.json
│  Local Storage  │  ← SharedPreferences
└─────────────────┘
```

**향후 V1 (백엔드 연동)**
```
┌─────────────────┐
│   Flutter App   │
├─────────────────┤
│  Provider       │  ← 전역 상태 관리
├─────────────────┤
│  HTTP Client    │  ← Dio
├─────────────────┤
│   REST API      │  ← Supabase / FastAPI
├─────────────────┤
│  PostgreSQL DB  │  ← 실제 데이터 저장
└─────────────────┘
```

**마이그레이션 전략**
1. 로컬 MVP로 전체 기능 검증
2. API 인터페이스 정의 (이미 API_설계서.md Part 2 완성)
3. 백엔드 선택 (Supabase 추천)
4. Provider와 HTTP Client 통합
5. 로컬 데이터 → 서버 데이터로 전환

---

## 15. 다음 단계

### 15.1 즉시 실행 항목 (로컬 MVP)

**1. 로컬 데이터 구축**
- [ ] Mock JSON 데이터 생성 (users, equipments 등)
- [ ] assets/data/ 디렉토리 구성
- [ ] 데이터 포맷 정의 (JSON 스키마)

**2. 기본 구조 구성**
- [ ] Provider 패턴 설계
- [ ] Router 및 네비게이션 설정
- [ ] 프로젝트 폴더 구조 확립

**3. 핵심 기능 구현**
- [ ] 로그인 화면 (로컬 시뮬레이션)
- [ ] 메인 검색 화면 (위치 기반 필터)
- [ ] 장비 상세 화면
- [ ] 예약 및 결제 시뮬레이션

**4. 로컬 저장소 통합**
- [ ] SharedPreferences로 사용자 로그인 상태 저장
- [ ] 예약/리뷰 로컬 저장

**예상 기간**: 4~5주 (이미 각 기능별 예상 일정 계획됨)

### 14.2 개발 일정 (로컬 개발 기준)

```
Week 1: 로컬 데이터 구축 및 기본 화면
- Mock JSON 데이터 작성 (users, equipments, bookings 등)
- Provider 구조 설정
- 로그인/메인 화면 개발

Week 2: 검색 및 필터링
- 위치 기반 검색 (Haversine 거리 계산)
- 카테고리/가격/평점 필터
- 장비 상세 화면

Week 3: 예약 및 결제
- 캘린더 예약 화면
- 시간 선택 UI
- 가격 계산 및 결제 시뮬레이션

Week 4: 리뷰 및 완성
- 리뷰 작성 UI
- 예약 현황 관리
- 로컬 데이터 저장 (SharedPreferences)
- 전체 테스트 및 버그 수정

Week 5: 향후 백엔드 준비
- API_설계서.md 검토
- 백엔드 옵션 평가 (Supabase 추천)
- V1 마이그레이션 계획 수립

**총 기간**: 4~5주 (로컬 MVP 완성)
```

### 14.3 성공 지표 (MVP 로컬 버전 기준)

**기술 지표**
- 앱 시작 시간 < 2초
- 로컬 데이터 로드 < 500ms
- 검색/필터링 응답 < 200ms
- 크래시 발생률 < 0.1%

**기능 완성도**
- 10개 화면 모두 구현 완료
- 15개 기능 모두 작동 확인
- 로컬 데이터 저장소(SharedPreferences) 정상 작동

**향후 백엔드 마이그레이션 준비**
- API 설계서 완성 (Part 2)
- 백엔드 옵션 평가 및 선택
- V1 마이그레이션 로드맵 수립

---

## 16. 향후 로드맵

### Phase 1: MVP (로컬 버전) - 현재
**기간**: 4~5주
**목표**: 전체 10개 화면 완성, 로컬 데이터로 전체 플로우 테스트
**산출물**: 완성된 Flutter 앱 (로컬 상태 관리)

### Phase 2: 백엔드 마이그레이션 (V1) - 2개월 후
**기간**: 4~5주
**작업**:
1. Supabase 프로젝트 구성
2. REST API 구현 (API_설계서.md Part 2 기반)
3. Provider에서 HTTP Client 통합
4. 사용자 인증 (OTP) 구현
5. 실제 결제 연동 (Toss)

**산출물**: 백엔드 연동 완성된 앱 (V1)

### Phase 3: 추가 기능 (V1.1+) - 3개월 후
- 공급자 셀프 등록 (V1.1)
- 인앱 채팅 (V1.2)
- 지도 UI 개선 (V2)
- 푸시 알림 (V2)
- 결제 내역 정산 (V2)

---

## 17. 결론

danngam MVP는 **로컬 상태 관리로 빠르게 검증**하고, **백엔드 연동으로 확장**하는 2단계 전략을 취합니다.

**MVP 특징**
- ✅ API 없이 로컬 데이터로 전체 기능 검증
- ✅ Provider 패턴으로 확장성 있는 구조
- ✅ 명확한 이동형/고정형 장비 구분
- ✅ 실제 UX를 조기에 테스트 가능

**V1 특징** (향후)
- API 기반 실제 데이터 저장
- 사용자 간 실제 거래
- 실제 결제 처리
- 모바일 앱 스토어 배포

**기대 효과**
- 소규모 농가의 경영비용 절감 (최대 50%)
- 농기계 유휴 자산의 활용도 증대
- 지속 가능한 플랫폼 비즈니스 모델 구축

본 분석 리포트의 로컬 MVP 기반으로 개발이 진행되며,
향후 백엔드 마이그레이션을 위해 API_설계서.md Part 2를 참고합니다.

---

---

**문서 정보**
- **작성**: MVP 기획팀
- **최종 검토**: 2026-02-14
- **버전**: 2.0 (로컬 상태 관리 기반으로 재구성)
- **상태**: 로컬 MVP 개발 준비 완료

**관련 문서**
- API_설계서.md (Part 1: 로컬 데이터 구조 / Part 2: 향후 백엔드 API)
- CLAUDE.md (개발 프로세스 및 역할 정의)
